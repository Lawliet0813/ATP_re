# ATP_re æ¸¬è©¦æŒ‡å—

**ç‰ˆæœ¬ï¼š** 1.0  
**æ›´æ–°æ—¥æœŸï¼š** 2025-11-09  
**é©ç”¨ç³»çµ±ï¼š** ATP_re Java ç‰ˆæœ¬ï¼ˆåŠæœªä¾† Python ç‰ˆæœ¬ï¼‰

---

## ğŸ“– ç›®éŒ„

1. [æ¸¬è©¦æ¦‚è¿°](#æ¸¬è©¦æ¦‚è¿°)
2. [æ¸¬è©¦ç­–ç•¥](#æ¸¬è©¦ç­–ç•¥)
3. [æ¸¬è©¦ç’°å¢ƒè¨­å®š](#æ¸¬è©¦ç’°å¢ƒè¨­å®š)
4. [å–®å…ƒæ¸¬è©¦](#å–®å…ƒæ¸¬è©¦)
5. [æ•´åˆæ¸¬è©¦](#æ•´åˆæ¸¬è©¦)
6. [ç³»çµ±æ¸¬è©¦](#ç³»çµ±æ¸¬è©¦)
7. [æ•ˆèƒ½æ¸¬è©¦](#æ•ˆèƒ½æ¸¬è©¦)
8. [æ¸¬è©¦è³‡æ–™æº–å‚™](#æ¸¬è©¦è³‡æ–™æº–å‚™)
9. [æ¸¬è©¦è‡ªå‹•åŒ–](#æ¸¬è©¦è‡ªå‹•åŒ–)
10. [æ¸¬è©¦å ±å‘Š](#æ¸¬è©¦å ±å‘Š)

---

## æ¸¬è©¦æ¦‚è¿°

### æ¸¬è©¦ç›®æ¨™

ATP_re ç³»çµ±çš„æ¸¬è©¦ç›®æ¨™åŒ…æ‹¬ï¼š

1. **æ­£ç¢ºæ€§é©—è­‰**ï¼šç¢ºä¿è§£ç¢¼çµæœ 100% æ­£ç¢º
2. **æ•ˆèƒ½é©—è­‰**ï¼šé”åˆ°æˆ–è¶…è¶Šç¾æœ‰ç³»çµ±æ•ˆèƒ½
3. **ç©©å®šæ€§é©—è­‰**ï¼šé•·æ™‚é–“åŸ·è¡Œä¸å´©æ½°
4. **ç›¸å®¹æ€§é©—è­‰**ï¼šæ”¯æ´æ‰€æœ‰è¦å®šçš„æª”æ¡ˆç‰ˆæœ¬
5. **å¯ç”¨æ€§é©—è­‰**ï¼šä½¿ç”¨è€…ä»‹é¢å‹å–„æ˜“ç”¨

### æ¸¬è©¦ç¯„åœ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ç³»çµ±æ¸¬è©¦                      â”‚
â”‚  - ç«¯å°ç«¯å·¥ä½œæµç¨‹                    â”‚
â”‚  - ä½¿ç”¨è€…æ¥å—åº¦æ¸¬è©¦                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        æ•´åˆæ¸¬è©¦                      â”‚
â”‚  - æ¨¡çµ„é–“ä»‹é¢æ¸¬è©¦                    â”‚
â”‚  - è³‡æ–™åº«æ•´åˆæ¸¬è©¦                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        å–®å…ƒæ¸¬è©¦                      â”‚
â”‚  - å€‹åˆ¥å‡½å¼/æ–¹æ³•æ¸¬è©¦                â”‚
â”‚  - é‚è¼¯é©—è­‰                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¸¬è©¦æŒ‡æ¨™

| æŒ‡æ¨™é¡å‹ | ç›®æ¨™å€¼ | èªªæ˜ |
|---------|--------|------|
| ç¨‹å¼ç¢¼è¦†è“‹ç‡ | â‰¥ 80% | æ•´é«”è¦†è“‹ç‡ |
| æ ¸å¿ƒæ¨¡çµ„è¦†è“‹ç‡ | â‰¥ 95% | è§£ç¢¼å™¨ã€è³‡æ–™æ¨¡å‹ |
| ç¼ºé™·å¯†åº¦ | < 0.5/KLOC | æ¯åƒè¡Œç¨‹å¼ç¢¼çš„ç¼ºé™·æ•¸ |
| å°ç…§é©—è­‰é€šéç‡ | 100% | èˆ‡ Java ç‰ˆæœ¬å°ç…§ |
| æ•ˆèƒ½åŸºæº– | â‰¥ 100% | ç›¸å°æ–¼ Java ç‰ˆæœ¬ |

---

## æ¸¬è©¦ç­–ç•¥

### æ¸¬è©¦é‡‘å­—å¡”

```
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  æ‰‹å‹•   â”‚  â† 5%  æ¢ç´¢æ€§æ¸¬è©¦ã€å¯ç”¨æ€§æ¸¬è©¦
        â”‚  æ¸¬è©¦   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  ç«¯å°ç«¯æ¸¬è©¦  â”‚  â† 15% å®Œæ•´å·¥ä½œæµç¨‹
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   æ•´åˆæ¸¬è©¦       â”‚  â† 30% æ¨¡çµ„æ•´åˆ
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚     å–®å…ƒæ¸¬è©¦           â”‚  â† 50% å€‹åˆ¥å‡½å¼
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¸¬è©¦éšæ®µ

#### éšæ®µ 1ï¼šé–‹ç™¼éšæ®µæ¸¬è©¦
- å–®å…ƒæ¸¬è©¦ï¼ˆé–‹ç™¼è€…æ’°å¯«ï¼‰
- ç¨‹å¼ç¢¼è¦†è“‹ç‡æª¢æŸ¥
- éœæ…‹ç¨‹å¼ç¢¼åˆ†æ

#### éšæ®µ 2ï¼šæ•´åˆæ¸¬è©¦
- æ¨¡çµ„ä»‹é¢æ¸¬è©¦
- è³‡æ–™åº«æ•´åˆæ¸¬è©¦
- å¤–éƒ¨ç³»çµ±æ•´åˆï¼ˆFTPã€æª”æ¡ˆç³»çµ±ï¼‰

#### éšæ®µ 3ï¼šç³»çµ±æ¸¬è©¦
- åŠŸèƒ½æ¸¬è©¦
- æ•ˆèƒ½æ¸¬è©¦
- å®‰å…¨æ¸¬è©¦
- ç›¸å®¹æ€§æ¸¬è©¦

#### éšæ®µ 4ï¼šé©—æ”¶æ¸¬è©¦
- ä½¿ç”¨è€…æ¥å—åº¦æ¸¬è©¦ï¼ˆUATï¼‰
- å°ç…§é©—è­‰æ¸¬è©¦
- å›æ­¸æ¸¬è©¦

---

## æ¸¬è©¦ç’°å¢ƒè¨­å®š

### é–‹ç™¼æ¸¬è©¦ç’°å¢ƒ

#### Java æ¸¬è©¦ç’°å¢ƒ

**æ‰€éœ€å·¥å…·ï¼š**
```bash
# JUnit 5
dependencies {
    testImplementation 'org.junit.jupiter:junit-jupiter:5.9.0'
    testImplementation 'org.mockito:mockito-core:4.8.0'
}

# Maven
<dependency>
    <groupId>org.junit.jupiter</groupId>
    <artifactId>junit-jupiter</artifactId>
    <version>5.9.0</version>
    <scope>test</scope>
</dependency>
```

**ç›®éŒ„çµæ§‹ï¼š**
```
ATP_re/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â””â”€â”€ java/
â”‚   â”‚       â”œâ”€â”€ decoder_re/
â”‚   â”‚       â”œâ”€â”€ core_re/
â”‚   â”‚       â””â”€â”€ ...
â”‚   â””â”€â”€ test/
â”‚       â””â”€â”€ java/
â”‚           â”œâ”€â”€ decoder_re/
â”‚           â”‚   â”œâ”€â”€ RUDecoderTest.java
â”‚           â”‚   â”œâ”€â”€ MMIDecoderTest.java
â”‚           â”‚   â””â”€â”€ BTMDecoderTest.java
â”‚           â”œâ”€â”€ core_re/
â”‚           â”‚   â”œâ”€â”€ ATPTaskTest.java
â”‚           â”‚   â””â”€â”€ ...
â”‚           â””â”€â”€ ...
â”œâ”€â”€ test_data/
â”‚   â”œâ”€â”€ ru/
â”‚   â”‚   â”œâ”€â”€ sample_v1.6.RU
â”‚   â”‚   â”œâ”€â”€ sample_v1.7.RU
â”‚   â”‚   â””â”€â”€ sample_v1.8.RU
â”‚   â””â”€â”€ expected/
â”‚       â”œâ”€â”€ sample_v1.6_expected.json
â”‚       â””â”€â”€ ...
â””â”€â”€ test_results/
```

#### Python æ¸¬è©¦ç’°å¢ƒï¼ˆæœªä¾†ï¼‰

**æ‰€éœ€å·¥å…·ï¼š**
```bash
# å®‰è£æ¸¬è©¦ç›¸ä¾å¥—ä»¶
pip install pytest pytest-cov pytest-mock

# ç›®éŒ„çµæ§‹
atp_re/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ atp_re/
â”‚       â”œâ”€â”€ decoder/
â”‚       â”œâ”€â”€ models/
â”‚       â””â”€â”€ ...
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/
â”‚   â”‚   â”œâ”€â”€ test_ru_decoder.py
â”‚   â”‚   â”œâ”€â”€ test_mmi_decoder.py
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ integration/
â”‚   â”‚   â”œâ”€â”€ test_database.py
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ system/
â”‚       â””â”€â”€ test_e2e.py
â””â”€â”€ pytest.ini
```

### æ¸¬è©¦è³‡æ–™åº«è¨­å®š

**å»ºç«‹æ¸¬è©¦è³‡æ–™åº«ï¼š**

```sql
-- å»ºç«‹æ¸¬è©¦è³‡æ–™åº«
CREATE DATABASE ATP_DB_TEST;

-- ä½¿ç”¨ç›¸åŒçš„çµæ§‹
-- åŸ·è¡Œåˆå§‹åŒ–è…³æœ¬
USE ATP_DB_TEST;
SOURCE init.sql;

-- æ’å…¥æ¸¬è©¦è³‡æ–™
SOURCE test_data.sql;
```

**è¨­å®šæª”ï¼ˆtest.propertiesï¼‰ï¼š**
```properties
db.host=localhost
db.port=1433
db.name=ATP_DB_TEST
db.user=atp_test_user
db.password=test_password
```

---

## å–®å…ƒæ¸¬è©¦

### æ¸¬è©¦å‘½åè¦ç¯„

**Javaï¼ˆJUnitï¼‰ï¼š**
```java
// æ¸¬è©¦é¡åˆ¥å‘½åï¼š<ClassName>Test
public class RUDecoderTest {
    
    // æ¸¬è©¦æ–¹æ³•å‘½åï¼štest<MethodName>_<Scenario>_<ExpectedResult>
    @Test
    public void testDecodeFile_ValidRU_Success() {
        // æ¸¬è©¦å…§å®¹
    }
    
    @Test
    public void testDecodeFile_InvalidFormat_ThrowsException() {
        // æ¸¬è©¦å…§å®¹
    }
}
```

**Pythonï¼ˆpytestï¼‰ï¼š**
```python
# æ¸¬è©¦æª”æ¡ˆå‘½åï¼štest_<module_name>.py
# æ¸¬è©¦å‡½å¼å‘½åï¼štest_<function_name>_<scenario>_<expected>

def test_decode_file_valid_ru_success():
    """æ¸¬è©¦è§£ç¢¼æœ‰æ•ˆçš„ RU æª”æ¡ˆ"""
    # æ¸¬è©¦å…§å®¹
    pass

def test_decode_file_invalid_format_raises_error():
    """æ¸¬è©¦è§£ç¢¼ç„¡æ•ˆæ ¼å¼æ™‚æ‹‹å‡ºç•°å¸¸"""
    # æ¸¬è©¦å…§å®¹
    pass
```

### RU è§£ç¢¼å™¨å–®å…ƒæ¸¬è©¦ç¯„ä¾‹

**Javaï¼š**
```java
package decoder_re;

import org.junit.jupiter.api.*;
import static org.junit.jupiter.api.Assertions.*;
import java.io.File;

public class RUDecoderTest {
    
    private RUDecoder decoder;
    private static final String TEST_DATA_PATH = "test_data/ru/";
    
    @BeforeEach
    public void setUp() {
        decoder = new RUDecoder();
    }
    
    @Test
    @DisplayName("æ¸¬è©¦è§£ç¢¼æœ‰æ•ˆçš„ RU v1.8 æª”æ¡ˆ")
    public void testDecodeFile_ValidRUv18_Success() throws Exception {
        // Arrange
        String filePath = TEST_DATA_PATH + "sample_v1.8.RU";
        
        // Act
        ATPTask task = decoder.decodeFile(filePath);
        
        // Assert
        assertNotNull(task, "è§£ç¢¼çµæœä¸æ‡‰ç‚º null");
        assertEquals("1234", task.getTrainNumber(), "è»Šæ¬¡è™Ÿç¢¼æ‡‰ç‚º 1234");
        assertTrue(task.getSpeedRecords().size() > 0, "æ‡‰æœ‰é€Ÿåº¦è¨˜éŒ„");
    }
    
    @Test
    @DisplayName("æ¸¬è©¦è§£ç¢¼ä¸å­˜åœ¨çš„æª”æ¡ˆæ‡‰æ‹‹å‡ºç•°å¸¸")
    public void testDecodeFile_FileNotFound_ThrowsException() {
        // Arrange
        String filePath = TEST_DATA_PATH + "nonexistent.RU";
        
        // Act & Assert
        assertThrows(
            DecoderException.class,
            () -> decoder.decodeFile(filePath),
            "æ‡‰æ‹‹å‡º DecoderException"
        );
    }
    
    @Test
    @DisplayName("æ¸¬è©¦æª¢æŸ¥ç¢¼é©—è­‰")
    public void testDecodeFile_InvalidChecksum_ThrowsException() {
        // Arrange
        String filePath = TEST_DATA_PATH + "corrupted.RU";
        decoder.setValidateChecksum(true);
        
        // Act & Assert
        assertThrows(
            ChecksumException.class,
            () -> decoder.decodeFile(filePath),
            "æª¢æŸ¥ç¢¼éŒ¯èª¤æ‡‰æ‹‹å‡º ChecksumException"
        );
    }
    
    @Test
    @DisplayName("æ¸¬è©¦é€Ÿåº¦è¨˜éŒ„è§£ç¢¼æ­£ç¢ºæ€§")
    public void testDecodeFile_SpeedRecords_Correct() throws Exception {
        // Arrange
        String filePath = TEST_DATA_PATH + "sample_v1.8.RU";
        
        // Act
        ATPTask task = decoder.decodeFile(filePath);
        SpeedRecord firstRecord = task.getSpeedRecords().get(0);
        
        // Assert
        assertEquals(0.0, firstRecord.getActualSpeed(), 0.1, "åˆå§‹é€Ÿåº¦æ‡‰ç‚º 0");
        assertTrue(firstRecord.getTimestamp() > 0, "æ™‚é–“æˆ³è¨˜æ‡‰å¤§æ–¼ 0");
    }
    
    @Test
    @DisplayName("æ¸¬è©¦æ‰¹æ¬¡è§£ç¢¼")
    public void testDecodeBatch_MultipleFiles_Success() throws Exception {
        // Arrange
        List<String> files = Arrays.asList(
            TEST_DATA_PATH + "sample1.RU",
            TEST_DATA_PATH + "sample2.RU",
            TEST_DATA_PATH + "sample3.RU"
        );
        
        // Act
        List<ATPTask> tasks = decoder.decodeBatch(files);
        
        // Assert
        assertEquals(3, tasks.size(), "æ‡‰è§£ç¢¼ 3 å€‹æª”æ¡ˆ");
        for (ATPTask task : tasks) {
            assertNotNull(task, "æ¯å€‹ä»»å‹™éƒ½ä¸æ‡‰ç‚º null");
        }
    }
}
```

**Pythonï¼ˆæœªä¾†ï¼‰ï¼š**
```python
import pytest
from atp_re.decoder import RUDecoder
from atp_re.exceptions import DecoderException, ChecksumException

class TestRUDecoder:
    """RU è§£ç¢¼å™¨å–®å…ƒæ¸¬è©¦"""
    
    @pytest.fixture
    def decoder(self):
        """å»ºç«‹è§£ç¢¼å™¨å¯¦ä¾‹"""
        return RUDecoder()
    
    @pytest.fixture
    def test_data_path(self):
        """æ¸¬è©¦è³‡æ–™è·¯å¾‘"""
        return "test_data/ru/"
    
    def test_decode_file_valid_ru_v18_success(self, decoder, test_data_path):
        """æ¸¬è©¦è§£ç¢¼æœ‰æ•ˆçš„ RU v1.8 æª”æ¡ˆ"""
        # Arrange
        file_path = test_data_path + "sample_v1.8.RU"
        
        # Act
        task = decoder.decode_file(file_path)
        
        # Assert
        assert task is not None, "è§£ç¢¼çµæœä¸æ‡‰ç‚º None"
        assert task.train_number == "1234", "è»Šæ¬¡è™Ÿç¢¼æ‡‰ç‚º 1234"
        assert len(task.speed_records) > 0, "æ‡‰æœ‰é€Ÿåº¦è¨˜éŒ„"
    
    def test_decode_file_not_found_raises_exception(self, decoder, test_data_path):
        """æ¸¬è©¦è§£ç¢¼ä¸å­˜åœ¨çš„æª”æ¡ˆæ‡‰æ‹‹å‡ºç•°å¸¸"""
        # Arrange
        file_path = test_data_path + "nonexistent.RU"
        
        # Act & Assert
        with pytest.raises(DecoderException):
            decoder.decode_file(file_path)
    
    def test_decode_file_invalid_checksum_raises_exception(self, decoder, test_data_path):
        """æ¸¬è©¦æª¢æŸ¥ç¢¼é©—è­‰"""
        # Arrange
        file_path = test_data_path + "corrupted.RU"
        decoder.validate_checksum = True
        
        # Act & Assert
        with pytest.raises(ChecksumException):
            decoder.decode_file(file_path)
    
    def test_decode_batch_multiple_files_success(self, decoder, test_data_path):
        """æ¸¬è©¦æ‰¹æ¬¡è§£ç¢¼"""
        # Arrange
        files = [
            test_data_path + "sample1.RU",
            test_data_path + "sample2.RU",
            test_data_path + "sample3.RU"
        ]
        
        # Act
        tasks = decoder.decode_batch(files)
        
        # Assert
        assert len(tasks) == 3, "æ‡‰è§£ç¢¼ 3 å€‹æª”æ¡ˆ"
        for task in tasks:
            assert task is not None, "æ¯å€‹ä»»å‹™éƒ½ä¸æ‡‰ç‚º None"
```

### æ¸¬è©¦è³‡æ–™æ¨¡å‹

**æ¸¬è©¦ ATPTask é¡åˆ¥ï¼š**
```java
public class ATPTaskTest {
    
    private ATPTask task;
    
    @BeforeEach
    public void setUp() {
        task = new ATPTask("T001", "1234");
        task.setStartTime(new Date(1701432000000L));
        task.setEndTime(new Date(1701435600000L));
    }
    
    @Test
    public void testGetDuration_ValidDates_ReturnsCorrectDuration() {
        // Act
        long duration = task.getDuration();
        
        // Assert
        assertEquals(3600000L, duration, "æŒçºŒæ™‚é–“æ‡‰ç‚º 1 å°æ™‚ï¼ˆ3600000 æ¯«ç§’ï¼‰");
    }
    
    @Test
    public void testAddSpeedRecord_AddRecord_IncreasesCount() {
        // Arrange
        SpeedRecord record = new SpeedRecord(System.currentTimeMillis(), 60.0);
        
        // Act
        task.addSpeedRecord(record);
        
        // Assert
        assertEquals(1, task.getSpeedRecords().size(), "æ‡‰æœ‰ 1 ç­†é€Ÿåº¦è¨˜éŒ„");
    }
    
    @Test
    public void testGetMaxSpeed_MultipleRecords_ReturnsMax() {
        // Arrange
        task.addSpeedRecord(new SpeedRecord(0, 60.0));
        task.addSpeedRecord(new SpeedRecord(1000, 80.0));
        task.addSpeedRecord(new SpeedRecord(2000, 70.0));
        
        // Act
        double maxSpeed = task.getMaxSpeed();
        
        // Assert
        assertEquals(80.0, maxSpeed, 0.1, "æœ€é«˜é€Ÿåº¦æ‡‰ç‚º 80.0");
    }
}
```

### Mock ç‰©ä»¶ä½¿ç”¨

**ä½¿ç”¨ Mockitoï¼š**
```java
import static org.mockito.Mockito.*;

public class DataFeederTest {
    
    @Test
    public void testProcessData_WithMockedDatabase() {
        // Arrange
        Database mockDb = mock(Database.class);
        when(mockDb.isConnected()).thenReturn(true);
        when(mockDb.insert(any())).thenReturn(true);
        
        DataFeeder feeder = new DataFeeder(mockDb);
        ATPTask task = new ATPTask("T001", "1234");
        
        // Act
        boolean result = feeder.processData(task);
        
        // Assert
        assertTrue(result, "è™•ç†æ‡‰è©²æˆåŠŸ");
        verify(mockDb, times(1)).insert(task);
    }
}
```

---

## æ•´åˆæ¸¬è©¦

### è³‡æ–™åº«æ•´åˆæ¸¬è©¦

**æ¸¬è©¦è³‡æ–™åº«æ“ä½œï¼š**
```java
public class DatabaseIntegrationTest {
    
    private static Database database;
    
    @BeforeAll
    public static void setUpDatabase() throws Exception {
        // ä½¿ç”¨æ¸¬è©¦è³‡æ–™åº«
        database = new Database("test.properties");
        database.connect();
        
        // åˆå§‹åŒ–æ¸¬è©¦è³‡æ–™
        database.executeScript("test_data.sql");
    }
    
    @AfterAll
    public static void tearDownDatabase() throws Exception {
        // æ¸…ç†æ¸¬è©¦è³‡æ–™
        database.executeScript("cleanup.sql");
        database.disconnect();
    }
    
    @Test
    public void testInsertTask_ValidTask_Success() throws Exception {
        // Arrange
        ATPTask task = new ATPTask("T001", "1234");
        task.setStartTime(new Date());
        
        // Act
        boolean result = database.insertTask(task);
        
        // Assert
        assertTrue(result, "æ’å…¥æ‡‰è©²æˆåŠŸ");
        
        // Verify
        ATPTask retrieved = database.getTask("T001");
        assertNotNull(retrieved, "æ‡‰èƒ½å–å›æ’å…¥çš„ä»»å‹™");
        assertEquals("1234", retrieved.getTrainNumber());
    }
    
    @Test
    public void testQueryTasks_WithFilter_ReturnsFilteredResults() throws Exception {
        // Arrange
        Date startDate = new Date(1701432000000L);
        Date endDate = new Date(1701518400000L);
        
        // Act
        List<ATPTask> tasks = database.queryTasks(startDate, endDate);
        
        // Assert
        assertFalse(tasks.isEmpty(), "æ‡‰è©²æœ‰æŸ¥è©¢çµæœ");
        for (ATPTask task : tasks) {
            assertTrue(task.getStartTime().after(startDate));
            assertTrue(task.getStartTime().before(endDate));
        }
    }
}
```

### æª”æ¡ˆç³»çµ±æ•´åˆæ¸¬è©¦

```java
public class FileSystemIntegrationTest {
    
    private static Path tempDir;
    
    @BeforeAll
    public static void setUp() throws Exception {
        tempDir = Files.createTempDirectory("atp_test");
    }
    
    @AfterAll
    public static void tearDown() throws Exception {
        Files.walk(tempDir)
            .sorted(Comparator.reverseOrder())
            .forEach(path -> {
                try {
                    Files.delete(path);
                } catch (IOException e) {
                    e.printStackTrace();
                }
            });
    }
    
    @Test
    public void testSaveAndLoadTask_ValidTask_Success() throws Exception {
        // Arrange
        ATPTask task = createTestTask();
        Path filePath = tempDir.resolve("test_task.dat");
        
        // Act - Save
        TaskSerializer.save(task, filePath.toString());
        
        // Act - Load
        ATPTask loaded = TaskSerializer.load(filePath.toString());
        
        // Assert
        assertNotNull(loaded);
        assertEquals(task.getTaskId(), loaded.getTaskId());
        assertEquals(task.getTrainNumber(), loaded.getTrainNumber());
    }
}
```

### FTP æ•´åˆæ¸¬è©¦

```java
public class FTPIntegrationTest {
    
    private static FTPTestServer ftpServer;
    
    @BeforeAll
    public static void startFTPServer() throws Exception {
        ftpServer = new FTPTestServer(21);
        ftpServer.start();
    }
    
    @AfterAll
    public static void stopFTPServer() throws Exception {
        ftpServer.stop();
    }
    
    @Test
    public void testDownloadFile_ValidFile_Success() throws Exception {
        // Arrange
        FTPClient client = new FTPClient("localhost", 21, "test", "test");
        String remoteFile = "/test/sample.RU";
        String localFile = "temp/downloaded.RU";
        
        // Act
        boolean result = client.downloadFile(remoteFile, localFile);
        
        // Assert
        assertTrue(result, "ä¸‹è¼‰æ‡‰è©²æˆåŠŸ");
        assertTrue(new File(localFile).exists(), "æª”æ¡ˆæ‡‰è©²å­˜åœ¨");
    }
}
```

---

## ç³»çµ±æ¸¬è©¦

### ç«¯å°ç«¯æ¸¬è©¦

**å®Œæ•´å·¥ä½œæµç¨‹æ¸¬è©¦ï¼š**
```java
@TestMethodOrder(MethodOrderer.OrderAnnotation.class)
public class EndToEndTest {
    
    private static ATP_re application;
    
    @BeforeAll
    public static void setUp() {
        application = new ATP_re();
        application.initialize();
    }
    
    @Test
    @Order(1)
    @DisplayName("E2E - é–‹å•Ÿä¸¦è§£ç¢¼ RU æª”æ¡ˆ")
    public void testOpenAndDecodeRUFile() throws Exception {
        // é–‹å•Ÿæª”æ¡ˆ
        String filePath = "test_data/ru/sample_v1.8.RU";
        application.openFile(filePath);
        
        // é©—è­‰è§£ç¢¼çµæœ
        ATPTask task = application.getCurrentTask();
        assertNotNull(task);
        assertEquals("1234", task.getTrainNumber());
    }
    
    @Test
    @Order(2)
    @DisplayName("E2E - ç”¢ç”Ÿé€Ÿåº¦æ›²ç·šåœ–")
    public void testGenerateSpeedChart() throws Exception {
        // ç”¢ç”Ÿåœ–è¡¨
        Chart chart = application.generateSpeedChart();
        
        // é©—è­‰åœ–è¡¨
        assertNotNull(chart);
        assertTrue(chart.getDataPoints().size() > 0);
    }
    
    @Test
    @Order(3)
    @DisplayName("E2E - ç”¢ç”Ÿå ±è¡¨")
    public void testGenerateReport() throws Exception {
        // ç”¢ç”Ÿå ±è¡¨
        String reportPath = "test_results/report.pdf";
        boolean result = application.generateReport(reportPath);
        
        // é©—è­‰å ±è¡¨
        assertTrue(result);
        assertTrue(new File(reportPath).exists());
    }
    
    @Test
    @Order(4)
    @DisplayName("E2E - å„²å­˜è‡³è³‡æ–™åº«")
    public void testSaveToDatabase() throws Exception {
        // å„²å­˜è‡³è³‡æ–™åº«
        boolean result = application.saveToDatabase();
        
        // é©—è­‰
        assertTrue(result);
        
        // å¾è³‡æ–™åº«è®€å–é©—è­‰
        ATPTask retrieved = application.loadFromDatabase(
            application.getCurrentTask().getTaskId()
        );
        assertNotNull(retrieved);
    }
}
```

### å°ç…§é©—è­‰æ¸¬è©¦

**èˆ‡ Java ç‰ˆæœ¬å°ç…§ï¼š**
```python
import pytest
import json

class TestValidation:
    """å°ç…§é©—è­‰æ¸¬è©¦ - Python vs Java"""
    
    def test_decode_validation_all_samples(self):
        """é©—è­‰æ‰€æœ‰ç¯„ä¾‹æª”æ¡ˆçš„è§£ç¢¼çµæœ"""
        # è¼‰å…¥ Java ç‰ˆæœ¬çš„é æœŸçµæœ
        with open('test_data/expected/java_results.json') as f:
            expected_results = json.load(f)
        
        # Python è§£ç¢¼å™¨
        decoder = RUDecoder()
        
        # å°æ¯å€‹æ¸¬è©¦æª”æ¡ˆé€²è¡Œé©—è­‰
        for sample in expected_results:
            file_path = sample['file_path']
            expected = sample['result']
            
            # è§£ç¢¼
            task = decoder.decode_file(file_path)
            
            # é©—è­‰é—œéµæ¬„ä½
            assert task.train_number == expected['train_number']
            assert len(task.speed_records) == expected['speed_record_count']
            assert len(task.events) == expected['event_count']
            
            # é©—è­‰é€Ÿåº¦è¨˜éŒ„ï¼ˆå–æ¨£é©—è­‰ï¼‰
            for i, expected_record in enumerate(expected['sample_speeds']):
                actual_record = task.speed_records[i]
                assert abs(actual_record.actual_speed - expected_record['speed']) < 0.1
                assert actual_record.timestamp == expected_record['timestamp']
```

---

## æ•ˆèƒ½æ¸¬è©¦

### è§£ç¢¼æ•ˆèƒ½æ¸¬è©¦

```java
public class PerformanceTest {
    
    @Test
    @Timeout(value = 5, unit = TimeUnit.SECONDS)
    public void testDecodePerformance_SmallFile_Under5Seconds() throws Exception {
        // Arrange
        RUDecoder decoder = new RUDecoder();
        String filePath = "test_data/ru/small_file.RU";  // 1 MB
        
        // Act
        long startTime = System.currentTimeMillis();
        ATPTask task = decoder.decodeFile(filePath);
        long endTime = System.currentTimeMillis();
        
        // Assert
        long duration = endTime - startTime;
        System.out.println("è§£ç¢¼æ™‚é–“: " + duration + " ms");
        assertTrue(duration < 5000, "è§£ç¢¼æ™‚é–“æ‡‰å°æ–¼ 5 ç§’");
    }
    
    @Test
    public void testBatchDecodePerformance_100Files() throws Exception {
        // Arrange
        RUDecoder decoder = new RUDecoder();
        List<String> files = generateFileList(100);  // 100 å€‹æª”æ¡ˆ
        
        // Act
        long startTime = System.currentTimeMillis();
        List<ATPTask> tasks = decoder.decodeBatch(files);
        long endTime = System.currentTimeMillis();
        
        // Assert
        long duration = endTime - startTime;
        double avgTime = duration / 100.0;
        
        System.out.println("ç¸½æ™‚é–“: " + duration + " ms");
        System.out.println("å¹³å‡æ™‚é–“: " + avgTime + " ms/file");
        
        assertEquals(100, tasks.size());
        assertTrue(avgTime < 1000, "å¹³å‡è§£ç¢¼æ™‚é–“æ‡‰å°æ–¼ 1 ç§’");
    }
}
```

### è¨˜æ†¶é«”ä½¿ç”¨æ¸¬è©¦

```java
public class MemoryTest {
    
    @Test
    public void testMemoryUsage_LargeFile() throws Exception {
        // å–å¾—åˆå§‹è¨˜æ†¶é«”ä½¿ç”¨
        Runtime runtime = Runtime.getRuntime();
        runtime.gc();  // å¼·åˆ¶åƒåœ¾å›æ”¶
        long memBefore = runtime.totalMemory() - runtime.freeMemory();
        
        // è§£ç¢¼å¤§æª”æ¡ˆ
        RUDecoder decoder = new RUDecoder();
        ATPTask task = decoder.decodeFile("test_data/ru/large_file.RU");  // 100 MB
        
        // å–å¾—è§£ç¢¼å¾Œè¨˜æ†¶é«”ä½¿ç”¨
        long memAfter = runtime.totalMemory() - runtime.freeMemory();
        long memUsed = (memAfter - memBefore) / 1024 / 1024;  // MB
        
        System.out.println("è¨˜æ†¶é«”ä½¿ç”¨: " + memUsed + " MB");
        
        // é©—è­‰è¨˜æ†¶é«”ä½¿ç”¨åˆç†
        assertTrue(memUsed < 500, "è¨˜æ†¶é«”ä½¿ç”¨æ‡‰å°æ–¼ 500 MB");
    }
}
```

### å£“åŠ›æ¸¬è©¦

```java
public class StressTest {
    
    @Test
    public void testConcurrentDecoding_10Threads() throws Exception {
        // Arrange
        int threadCount = 10;
        ExecutorService executor = Executors.newFixedThreadPool(threadCount);
        List<Future<ATPTask>> futures = new ArrayList<>();
        
        // Act
        for (int i = 0; i < threadCount; i++) {
            final int index = i;
            Future<ATPTask> future = executor.submit(() -> {
                RUDecoder decoder = new RUDecoder();
                return decoder.decodeFile("test_data/ru/sample" + index + ".RU");
            });
            futures.add(future);
        }
        
        // ç­‰å¾…æ‰€æœ‰ä»»å‹™å®Œæˆ
        List<ATPTask> results = new ArrayList<>();
        for (Future<ATPTask> future : futures) {
            results.add(future.get(30, TimeUnit.SECONDS));
        }
        
        // Assert
        assertEquals(threadCount, results.size());
        for (ATPTask task : results) {
            assertNotNull(task);
        }
        
        executor.shutdown();
    }
}
```

---

## æ¸¬è©¦è³‡æ–™æº–å‚™

### æ¸¬è©¦è³‡æ–™åˆ†é¡

#### 1. æ­£å¸¸è³‡æ–™
- `sample_v1.6.RU` - RU 1.6 ç‰ˆæœ¬æ¨™æº–æª”æ¡ˆ
- `sample_v1.7.RU` - RU 1.7 ç‰ˆæœ¬æ¨™æº–æª”æ¡ˆ
- `sample_v1.8.RU` - RU 1.8 ç‰ˆæœ¬æ¨™æº–æª”æ¡ˆ
- `sample_mmi_v3.2.MMI` - MMI 3.2 ç‰ˆæœ¬æ¨™æº–æª”æ¡ˆ

#### 2. é‚Šç•Œè³‡æ–™
- `empty.RU` - ç©ºæª”æ¡ˆ
- `minimal.RU` - æœ€å°æœ‰æ•ˆæª”æ¡ˆ
- `maximal.RU` - æœ€å¤§æª”æ¡ˆï¼ˆæ¥è¿‘å¤§å°é™åˆ¶ï¼‰
- `zero_speed.RU` - å…¨ç¨‹é€Ÿåº¦ç‚º 0

#### 3. ç•°å¸¸è³‡æ–™
- `corrupted.RU` - ææ¯€çš„æª”æ¡ˆï¼ˆæª¢æŸ¥ç¢¼éŒ¯èª¤ï¼‰
- `invalid_format.RU` - æ ¼å¼éŒ¯èª¤
- `truncated.RU` - ä¸å®Œæ•´æª”æ¡ˆ
- `wrong_extension.txt` - éŒ¯èª¤å‰¯æª”å

#### 4. ç‰¹æ®Šå ´æ™¯
- `overspeed.RU` - åŒ…å«è¶…é€Ÿäº‹ä»¶
- `emergency_brake.RU` - åŒ…å«ç·Šæ€¥ç…è»Š
- `multiple_stations.RU` - å¤šç«™åœé 
- `long_distance.RU` - é•·è·é›¢è¡Œé§›

### æ¸¬è©¦è³‡æ–™ç”¢ç”Ÿè…³æœ¬

**generate_test_data.py:**
```python
#!/usr/bin/env python3
"""ç”¢ç”Ÿæ¸¬è©¦è³‡æ–™"""

import struct
import random
from datetime import datetime, timedelta

def generate_ru_file(filename, config):
    """ç”¢ç”Ÿ RU æ¸¬è©¦æª”æ¡ˆ"""
    with open(filename, 'wb') as f:
        # æª”æ¡ˆæ¨™é ­
        f.write(b'RULOG')  # ç°½å
        f.write(struct.pack('>H', 0x0108))  # ç‰ˆæœ¬ 1.8
        
        # ä»»å‹™è³‡è¨Š
        train_number = config.get('train_number', '1234')
        f.write(train_number.encode('ascii').ljust(8, b'\x00'))
        
        # é€Ÿåº¦è¨˜éŒ„
        start_time = int(datetime.now().timestamp() * 1000)
        for i in range(config.get('record_count', 1000)):
            timestamp = start_time + i * 1000
            speed = config.get('speed', 60.0) + random.uniform(-10, 10)
            
            f.write(struct.pack('>Q', timestamp))  # æ™‚é–“æˆ³è¨˜
            f.write(struct.pack('>f', speed))  # é€Ÿåº¦
            f.write(struct.pack('>f', speed + 10))  # ç›®æ¨™é€Ÿåº¦
        
        # æª”æ¡ˆçµå°¾
        # è¨ˆç®—ä¸¦å¯«å…¥æª¢æŸ¥ç¢¼
        # ...

# ç”¢ç”Ÿæ¨™æº–æ¸¬è©¦æª”æ¡ˆ
configs = [
    {'filename': 'sample_normal.RU', 'train_number': '1234', 'record_count': 1000},
    {'filename': 'sample_overspeed.RU', 'train_number': '1235', 'speed': 120.0},
    {'filename': 'sample_minimal.RU', 'train_number': '1236', 'record_count': 10},
]

for config in configs:
    filename = config.pop('filename')
    generate_ru_file(f'test_data/ru/{filename}', config)
    print(f'Generated: {filename}')
```

### æ¸¬è©¦è³‡æ–™ç®¡ç†

**æ¸¬è©¦è³‡æ–™æ¸…å–®ï¼ˆtest_data_manifest.jsonï¼‰ï¼š**
```json
{
  "version": "1.0",
  "test_files": [
    {
      "name": "sample_v1.8.RU",
      "type": "normal",
      "version": "1.8",
      "size": 1048576,
      "md5": "a1b2c3d4e5f6...",
      "expected": {
        "train_number": "1234",
        "speed_record_count": 1000,
        "event_count": 5,
        "max_speed": 120.0
      }
    }
  ]
}
```

---

## æ¸¬è©¦è‡ªå‹•åŒ–

### æŒçºŒæ•´åˆï¼ˆCIï¼‰è¨­å®š

**GitHub Actions (.github/workflows/test.yml):**
```yaml
name: ATP_re Tests

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Set up JDK 8
      uses: actions/setup-java@v3
      with:
        java-version: '8'
        distribution: 'adopt'
    
    - name: Run tests
      run: |
        mvn clean test
    
    - name: Generate coverage report
      run: |
        mvn jacoco:report
    
    - name: Upload coverage to Codecov
      uses: codecov/codecov-action@v3
      with:
        files: ./target/site/jacoco/jacoco.xml
    
    - name: Archive test results
      if: always()
      uses: actions/upload-artifact@v3
      with:
        name: test-results
        path: target/surefire-reports/
```

### æ¸¬è©¦åŸ·è¡Œè…³æœ¬

**run_tests.sh:**
```bash
#!/bin/bash
# ATP_re æ¸¬è©¦åŸ·è¡Œè…³æœ¬

echo "=========================================="
echo "ATP_re è‡ªå‹•åŒ–æ¸¬è©¦"
echo "=========================================="
echo

# è¨­å®šè®Šæ•¸
TEST_RESULTS_DIR="test_results/$(date +%Y%m%d_%H%M%S)"
mkdir -p "$TEST_RESULTS_DIR"

# 1. å–®å…ƒæ¸¬è©¦
echo "åŸ·è¡Œå–®å…ƒæ¸¬è©¦..."
mvn test -Dtest=*Test
UNIT_TEST_RESULT=$?

# 2. æ•´åˆæ¸¬è©¦
echo "åŸ·è¡Œæ•´åˆæ¸¬è©¦..."
mvn test -Dtest=*IntegrationTest
INTEGRATION_TEST_RESULT=$?

# 3. ç³»çµ±æ¸¬è©¦
echo "åŸ·è¡Œç³»çµ±æ¸¬è©¦..."
mvn test -Dtest=*E2ETest
SYSTEM_TEST_RESULT=$?

# 4. ç”¢ç”Ÿå ±å‘Š
echo "ç”¢ç”Ÿæ¸¬è©¦å ±å‘Š..."
mvn surefire-report:report
mvn jacoco:report

# è¤‡è£½å ±å‘Šåˆ°çµæœç›®éŒ„
cp -r target/site/surefire-report.html "$TEST_RESULTS_DIR/"
cp -r target/site/jacoco "$TEST_RESULTS_DIR/"

# 5. é¡¯ç¤ºæ‘˜è¦
echo
echo "=========================================="
echo "æ¸¬è©¦çµæœæ‘˜è¦"
echo "=========================================="
echo "å–®å…ƒæ¸¬è©¦: $([ $UNIT_TEST_RESULT -eq 0 ] && echo 'âœ“ é€šé' || echo 'âœ— å¤±æ•—')"
echo "æ•´åˆæ¸¬è©¦: $([ $INTEGRATION_TEST_RESULT -eq 0 ] && echo 'âœ“ é€šé' || echo 'âœ— å¤±æ•—')"
echo "ç³»çµ±æ¸¬è©¦: $([ $SYSTEM_TEST_RESULT -eq 0 ] && echo 'âœ“ é€šé' || echo 'âœ— å¤±æ•—')"
echo
echo "è©³ç´°å ±å‘Š: $TEST_RESULTS_DIR"
echo "=========================================="

# é€€å‡ºç¢¼
if [ $UNIT_TEST_RESULT -ne 0 ] || [ $INTEGRATION_TEST_RESULT -ne 0 ] || [ $SYSTEM_TEST_RESULT -ne 0 ]; then
    exit 1
fi

exit 0
```

---

## æ¸¬è©¦å ±å‘Š

### æ¸¬è©¦è¦†è“‹ç‡å ±å‘Š

**ä½¿ç”¨ JaCoCo ç”¢ç”Ÿè¦†è“‹ç‡å ±å‘Šï¼š**

**pom.xml:**
```xml
<plugin>
    <groupId>org.jacoco</groupId>
    <artifactId>jacoco-maven-plugin</artifactId>
    <version>0.8.10</version>
    <executions>
        <execution>
            <goals>
                <goal>prepare-agent</goal>
            </goals>
        </execution>
        <execution>
            <id>report</id>
            <phase>test</phase>
            <goals>
                <goal>report</goal>
            </goals>
        </execution>
    </executions>
</plugin>
```

**åŸ·è¡Œä¸¦æŸ¥çœ‹å ±å‘Šï¼š**
```bash
# åŸ·è¡Œæ¸¬è©¦ä¸¦ç”¢ç”Ÿè¦†è“‹ç‡å ±å‘Š
mvn clean test jacoco:report

# æŸ¥çœ‹å ±å‘Š
open target/site/jacoco/index.html
```

### æ¸¬è©¦çµæœå ±å‘Šç¯„æœ¬

**test_report_template.md:**
```markdown
# ATP_re æ¸¬è©¦å ±å‘Š

**æ¸¬è©¦æ—¥æœŸï¼š** 2025-11-09  
**æ¸¬è©¦ç‰ˆæœ¬ï¼š** v1.0  
**æ¸¬è©¦äººå“¡ï¼š** QA Team

## æ¸¬è©¦æ‘˜è¦

| æ¸¬è©¦é¡å‹ | åŸ·è¡Œæ•¸ | é€šéæ•¸ | å¤±æ•—æ•¸ | é€šéç‡ |
|---------|--------|--------|--------|--------|
| å–®å…ƒæ¸¬è©¦ | 150 | 148 | 2 | 98.7% |
| æ•´åˆæ¸¬è©¦ | 45 | 44 | 1 | 97.8% |
| ç³»çµ±æ¸¬è©¦ | 20 | 20 | 0 | 100% |
| **ç¸½è¨ˆ** | **215** | **212** | **3** | **98.6%** |

## ç¨‹å¼ç¢¼è¦†è“‹ç‡

| æ¨¡çµ„ | è¡Œè¦†è“‹ç‡ | åˆ†æ”¯è¦†è“‹ç‡ |
|------|----------|-----------|
| decoder_re | 95.2% | 91.5% |
| core_re | 98.5% | 96.3% |
| ui_re | 75.3% | 68.2% |
| **æ•´é«”** | **85.6%** | **82.1%** |

## å¤±æ•—æ¸¬è©¦æ¸…å–®

### 1. RUDecoderTest.testDecodeCorruptedFile
- **ç‹€æ…‹ï¼š** å¤±æ•—
- **åŸå› ï¼š** æœªæ­£ç¢ºè™•ç†ææ¯€æª”æ¡ˆç•°å¸¸
- **å„ªå…ˆç´šï¼š** ä¸­
- **è² è²¬äººï¼š** Dev Team

### 2. DatabaseTest.testConnectionPool
- **ç‹€æ…‹ï¼š** å¤±æ•—
- **åŸå› ï¼š** é€£ç·šæ± è¨­å®šéŒ¯èª¤
- **å„ªå…ˆç´šï¼š** é«˜
- **è² è²¬äººï¼š** Dev Team

## æ•ˆèƒ½æ¸¬è©¦çµæœ

| æ¸¬è©¦é …ç›® | ç›®æ¨™å€¼ | å¯¦éš›å€¼ | ç‹€æ…‹ |
|---------|--------|--------|------|
| å°æª”æ¡ˆè§£ç¢¼ï¼ˆ1MBï¼‰ | < 5s | 2.3s | âœ“ |
| å¤§æª”æ¡ˆè§£ç¢¼ï¼ˆ100MBï¼‰ | < 60s | 45.2s | âœ“ |
| æ‰¹æ¬¡è™•ç†ï¼ˆ100æª”ï¼‰ | < 300s | 245.8s | âœ“ |
| è¨˜æ†¶é«”ä½¿ç”¨ | < 500MB | 320MB | âœ“ |

## å»ºè­°

1. ä¿®å¾©å¤±æ•—çš„æ¸¬è©¦æ¡ˆä¾‹
2. æå‡ UI æ¨¡çµ„çš„æ¸¬è©¦è¦†è“‹ç‡
3. å¢åŠ é‚Šç•Œæ¢ä»¶æ¸¬è©¦
4. å»ºç«‹è‡ªå‹•åŒ–å›æ­¸æ¸¬è©¦å¥—ä»¶

## çµè«–

æ•´é«”æ¸¬è©¦é€šéç‡ç‚º 98.6%ï¼Œç¨‹å¼ç¢¼è¦†è“‹ç‡é” 85.6%ï¼Œç¬¦åˆå°ˆæ¡ˆå“è³ªæ¨™æº–ã€‚
å»ºè­°ä¿®å¾©å¤±æ•—çš„æ¸¬è©¦æ¡ˆä¾‹å¾Œé€²å…¥ä¸‹ä¸€éšæ®µã€‚
```

---

## é™„éŒ„

### A. æ¸¬è©¦å·¥å…·æ¸…å–®

**Java æ¸¬è©¦å·¥å…·ï¼š**
- JUnit 5 - å–®å…ƒæ¸¬è©¦æ¡†æ¶
- Mockito - Mock æ¡†æ¶
- AssertJ - æµæš¢çš„æ–·è¨€åº«
- JaCoCo - ç¨‹å¼ç¢¼è¦†è“‹ç‡å·¥å…·
- JMeter - æ•ˆèƒ½æ¸¬è©¦å·¥å…·

**Python æ¸¬è©¦å·¥å…·ï¼ˆæœªä¾†ï¼‰ï¼š**
- pytest - æ¸¬è©¦æ¡†æ¶
- pytest-cov - è¦†è“‹ç‡å¤–æ›
- mock - Mock åº«
- hypothesis - å±¬æ€§æ¸¬è©¦
- locust - è² è¼‰æ¸¬è©¦

### B. æ¸¬è©¦æª¢æŸ¥æ¸…å–®

**ç¨‹å¼ç¢¼æäº¤å‰ï¼š**
- [ ] æ‰€æœ‰å–®å…ƒæ¸¬è©¦é€šé
- [ ] æ–°åŠŸèƒ½æœ‰å°æ‡‰æ¸¬è©¦
- [ ] ç¨‹å¼ç¢¼è¦†è“‹ç‡ä¸é™ä½
- [ ] ç„¡ç·¨è­¯è­¦å‘Š
- [ ] ç¨‹å¼ç¢¼å¯©æŸ¥å®Œæˆ

**ç™¼å¸ƒå‰ï¼š**
- [ ] æ‰€æœ‰æ¸¬è©¦é€šéï¼ˆå–®å…ƒã€æ•´åˆã€ç³»çµ±ï¼‰
- [ ] å°ç…§é©—è­‰æ¸¬è©¦é€šé
- [ ] æ•ˆèƒ½æ¸¬è©¦é”æ¨™
- [ ] å®‰å…¨æ¸¬è©¦å®Œæˆ
- [ ] æ–‡ä»¶æ›´æ–°

---

**ç‰ˆæ¬Šè²æ˜**  
Â© 2025 ATP_re Project. All rights reserved.

**æ–‡ä»¶ç¶­è­·**  
å¦‚ç™¼ç¾æ–‡ä»¶éŒ¯èª¤æˆ–éœ€è¦è£œå……ï¼Œè«‹æäº¤ GitHub Issue æˆ– Pull Requestã€‚

---

*æœ€å¾Œæ›´æ–°ï¼š2025-11-09*  
*æ–‡ä»¶ç‰ˆæœ¬ï¼š1.0*
